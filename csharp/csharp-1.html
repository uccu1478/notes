<div class="row">
    <div class="col-12">
        <label class="h2">檔案上傳 .NET 6 MVC</label>
    </div>
    <div class="col-12">
        (使用JQUERY傳送檔案至CONTROLLER)
    </div>
</div>
<div class="row mt-5">
    <div class="col-12">
        將檔案放進input後，檔案連同要傳送的變數一起包進formdata整包POST出去，在Controller用IFormCollection參數接收
    </div>
</div>
<div class="row mt-5">
    <div class="col-12">
        view長這樣子(index.cshtml)，使用.NET 6 MVC範本，js(index.cshtml.js)與cshtml放在同個資料夾(/Views/Home)
    </div>
    <div class="col-12">
        <script src="https://gist.github.com/uccu1478/974008cfca66138a4fbd63314e9b046e.js"></script>
    </div>
</div>
<div class="row mt-5">
    <div class="col-12">
        js長這樣子(index.cshtml.js)
    </div>
    <div class="col-12">
        <script src="https://gist.github.com/uccu1478/37fc7e942ccef1809732efd4164cf149.js"></script>
    </div>
</div>
<div class="row mt-5">
    <div class="col-12">
        新增一個ApiController裡面加個function，參數用IFormCollection把整個formData接起來
    </div>
    <div class="col-12">
        <script src="https://gist.github.com/uccu1478/9ff2dc5a4837f5cdb076154df67238c8.js"></script>
    </div>
</div>
<div class="row mt-5">
    <div class="col-12">
        若要在wwwroot以外使用檔案(下載、預覽等等) 請修改program.cs(記得先建立指定根目錄資料夾，否則發佈後會噴500.30)，<br />
        使用FileServer讓路徑可以像資料夾一樣存取(例如 xxx.xxx.x.xxx/FileServer/01/110222201/test.pdf)<br />
        Program.cs(請注意檔案存取權限問題)
    </div>
    <div class="col-12">
        <script src="https://gist.github.com/uccu1478/4d7c665e80d94360482bea0ca161d8b4.js"></script>
    </div>
</div>
<div class="row mt-5">
    <div class="col-12">
        最後修改過的Upload會長這樣
    </div>
    <div class="col-12">
        <script src="https://gist.github.com/uccu1478/424f60159644f1454c3711756e5fa571.js"></script>
    </div>
</div>
<div class="row mt-5">
    <div class="col-12">
        參考資料
        <ol>
            <li>
                <a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/models/file-uploads?view=aspnetcore-6.0"
                    target="_blank">Upload files in ASP.NET Core</a>
            </li>
        </ol>
    </div>
</div>